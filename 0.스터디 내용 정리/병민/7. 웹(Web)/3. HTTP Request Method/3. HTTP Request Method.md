# HTTP Request Method

왜 HTTP 요청 메서드를 알아야 할까요?

HTTP 요청 메서드를 깊이 이해하는 것은 웹 애플리케이션의 성능, 보안, 신뢰성을 높이는 데 꼭 필요합니다. 이는 브라우저가 페이지를 불러오고, 서버가 사용자의 상태를 기억하는 방식과 직접적으로 연결되기 때문입니다.

각 메서드의 명확한 용도(조회, 생성, 수정, 삭제)와 특징을 알면, 브라우저 캐시를 효율적으로 활용해 로딩 속도를 개선할 수 있습니다. 또한 폼(form) 제출이나 API 요청 시 데이터의 일관성을 지키고, CSRF 같은 보안 위협으로부터 애플리케이션을 보호하는 올바른 설계를 할 수 있습니다. 결국, 더 나은 사용자 경험(UX)과 안정적인 서비스를 만드는 기반이 됩니다.

## 주요 메서드

각 메서드는 특정 목적과 규칙을 가집니다.

- GET: 리소스를 조회(읽기)할 때 사용합니다.
  - 서버의 데이터를 변경하지 않으므로 여러 번 요청해도 안전합니다.
  - 동일한 요청을 반복하면 항상 같은 결과를 반환하며, 브라우저는 이 결과를 저장(캐시)해두었다가 재사용할 수 있습니다.
  - 브라우저 주소창에 URL을 입력하는 것이 대표적인 GET 요청입니다.

- POST: 새로운 리소스를 생성하거나, 서버에 데이터를 보내 처리해야 할 때 사용합니다.
  - 요청할 때마다 서버의 상태가 바뀔 수 있으므로, 여러 번 호출하면 다른 결과가 발생할 수 있습니다.
  - 요청 본문(Body)에 데이터를 담아 전송합니다.
  - HTML `<form>`에서 기본적으로 지원하는 메서드입니다.

- PUT: 리소스 전체를 교체(수정)할 때 사용합니다.
  - 동일한 요청을 여러 번 보내도 결과는 항상 같습니다. 예를 들어, 특정 게시글의 내용을 완전히 새로운 내용으로 덮어쓰는 것과 같습니다.
  - 요청한 자원이 존재하면 완전히 대체하고, 없으면 새로 생성합니다.

- PATCH: 리소스의 일부만 수정할 때 사용합니다.
  - `PUT`과 달리 리소스의 특정 부분만 변경할 때 사용합니다. 예를 들어, 게시글의 제목만 바꾸는 경우입니다.

- DELETE: 리소스를 삭제할 때 사용합니다.
  - 동일한 요청을 여러 번 보내도 결과는 같습니다. 이미 삭제된 리소스를 다시 삭제하려 해도 오류가 발생하지 않고 '삭제됨' 상태가 유지됩니다.

- HEAD: `GET`과 요청 방식은 같지만, 실제 데이터(본문) 없이 헤더 정보만 받아옵니다.
  - 파일 다운로드 전에 파일 크기나 타입을 확인하는 등, 리소스의 메타데이터만 필요할 때 유용합니다.

- OPTIONS: 서버가 특정 URL에 대해 어떤 메서드들을 지원하는지 확인할 때 사용합니다.
  - 주로 브라우저가 다른 도메인으로 요청을 보내기 전, 보안상 안전한지 확인하기 위해 자동으로 보냅니다(CORS).

## 주로 사용하는 메서드

실제 웹 개발에서는 모든 메서드가 각자의 역할에 맞게 사용되지만, 그중에서도 특히 GET과 POST가 가장 기본적이고 빈번하게 사용됩니다.

- GET: 웹 페이지를 보거나, 게시글 목록을 불러오는 등 무언가를 조회하는 거의 모든 경우에 사용됩니다. 웹 서핑의 대부분이 GET 요청이라고 할 수 있습니다.
- POST: 회원가입, 로그인, 게시글 작성처럼 서버에 새로운 데이터를 생성하거나, 복잡한 데이터를 전송할 때 주로 사용됩니다.

PUT, PATCH, DELETE 역시 현대적인 웹 애플리케이션(특히 RESTful API)에서는 매우 중요하게 사용됩니다. 이 메서드들은 데이터를 수정하거나 삭제하는 명확한 역할을 담당하여 API의 구조를 예측 가능하게 만듭니다.

반면 HEAD나 OPTIONS는 브라우저나 다른 시스템이 특정 목적을 위해 자동으로 사용하는 경우가 많아, 개발자가 직접 애플리케이션 로직에 구현하는 경우는 상대적으로 적습니다.

## 브라우저 및 서버 관점의 고려사항

1.  HTML Form과 메서드:
    - HTML의 `<form>` 태그는 `GET`과 `POST` 메서드만 지원합니다.
    - `PUT`, `PATCH`, `DELETE` 등의 메서드를 사용하려면 JavaScript의 `fetch` API나 `XMLHttpRequest`를 사용해야 합니다.

2.  상태 변경과 보안 (CSRF):
    - `POST`, `PUT`, `DELETE`처럼 서버의 상태를 바꾸는 요청은 CSRF(Cross-Site Request Forgery) 공격에 취약할 수 있습니다.
    - 이는 브라우저가 인증 정보를 담은 쿠키를 요청 시 자동으로 포함하기 때문입니다.
    - 이를 방어하기 위해 CSRF 토큰, `SameSite` 쿠키 속성, Referer 헤더 검증 등의 방법을 사용해야 합니다.

3.  캐싱과 성능:
    - `GET` 요청은 브라우저에 캐시될 수 있어 반복 조회 시 서버에 요청을 보내지 않고 로컬 캐시에서 응답을 받아올 수 있습니다. 이는 로딩 성능 최적화와 직결됩니다.
    - 반면, 상태를 변경하는 `POST`, `PUT`, `DELETE` 등의 응답은 일반적으로 캐시되지 않도록 설정합니다.

4.  CORS Preflight 요청:
    - 다른 출처(Cross-Origin)로 `PUT`, `DELETE` 같은 메서드나 커스텀 헤더를 포함한 요청을 보낼 때, 브라우저는 먼저 `OPTIONS` 메서드로 예비 요청(Preflight)을 보냅니다.
    - 서버는 이 예비 요청에 허용하는 메서드와 헤더를 응답해야 본 요청이 정상적으로 전송됩니다.

## 결론

HTTP 요청 메서드는 단순히 서버에 요청을 보내는 방법을 넘어, 웹의 동작 방식과 보안, 성능을 아우르는 핵심 개념입니다. 각 메서드의 의미와 특성을 정확히 이해하고 사용하면, 예측 가능하고 안정적이며 효율적인 웹 애플리케이션을 구축할 수 있습니다.
