# Web Server와 WAS

## 1. Web Server

웹 서버의 사전적 정의는 웹 브라우저 클라이언트로부터 HTTP 요청을 받아들이고 HTML 문서와 같은 웹 페이지를 반환하는 컴퓨터 프로그램입니다.

여기서 HTML 문서와 같은 웹페이지라는 문구가 살짝 모호하다고 생각할 수 있다. 사전적 정의에서 조금 더 풀어쓰면, 웹 서버는 클라이언트가 웹 브라우저에서 어떠한 페이지 요청을 하면 웹 서버가 그 요청을 받아 정적 컨텐츠를 제공하는 서버이다.

그러니까 정적 컨텐츠는 단순 HTML 문서, CSS, javascript, 이미지, 파일 등 즉시 응답 가능한 컨텐츠이다. 그렇다고 웹 서버가 정적 컨텐츠만을 제공하는 것은 아니다.

웹서버가 동적 컨텐츠 요청을 받으면 WAS에게 해당 요청을 넘겨 주고, WAS에서 처리한 결과를 클라이언트에게 전달해주는 역할도 한다.

![static-dynamic](https://velog.velcdn.com/images/leesomyoung/post/256fdf5f-b225-4e8c-9267-2748e0cc7ede/image.png)

대표적인 예시로는 Apache Tomcat, Nginx가 있습니다.

### Tomcat Architecture

![Tomcat](https://miro.medium.com/v2/resize:fit:1200/format:webp/0*Cdg8CBPWokYfi9WV.png)

### Nginx Architecture

![Nginx](https://www.f5.com/content/dam/f5-com/nginx-import/architecture_for_nginx_and_python.png)

## 2. WAS (Web Application Server)

사전적 정의는 인터넷 상에서 HTTP 프로토콜을 통해 사용자 컴퓨터나 장치에 애플리케이션을 수행하주는 미들웨어로서, 주로 동적 서버 컨텐츠 수행하는 것으로 웹 서버와 구별되며, 주로 DB 서버와 같이 수행되는 것을 의미합니다.

![WAS](https://velog.velcdn.com/images/leesomyoung/post/6ba39c9f-5794-41e6-818b-326a410abebf/image.png)

WAS는 웹 서버와 웹 컨테이너가 합쳐진 형태로서, 웹 서버 단독으로는 처리할 수 없는 데이터베이스의 조회나 다양한 로직 처리가 필요한 동적 컨텐츠를 제공합니다.
덕분에 사용자의 다양한 요구에 맞추어 웹 서비스를 제공할 수 있습니다.
WAS는 JSP, Servlet 구동 환경을 제공해주므로 웹 컨테이너 혹은 서블릿 컨테이너라고 불립니다.

### Web Service Architecture

![web-service](https://velog.velcdn.com/images/leesomyoung/post/85d5f41a-9b70-4d7f-8ac6-a23df745b72c/image.png)

## 3. Web Server가 왜 필요할까?

동적인 컨텐츠를 제공하는 WAS가 정적인 리소스까지 서빙하면 안될까요? 왜 굳이 Web Server를 사용하는 것일까요?

#### 클라이언트에게 정적 리소스를 보내는 과정

1. 클라이언트가 HTML 문서를 먼저 받음
2. 그 HTML에 적혀진 이미지, JS 파일들을 다시 서버로 요청
3. 해당 필요한 파일들을 받게됨

위와 같은 과정을 통해서 서버에게 정적인 파일들을 받으면 App Server까지 요청이 전파되지 않고 앞단에서 처리가능합니다.
따라서 WebServer과 WAS의 기능과 책임을 나누어 보다 많은 리소스를 사용하는 WAS의 부담을 줄이도록 하는 것입니다.

## Reference

https://velog.io/@leesomyoung/%EC%9B%B9-%EC%84%9C%EB%B2%84-vs-WAS