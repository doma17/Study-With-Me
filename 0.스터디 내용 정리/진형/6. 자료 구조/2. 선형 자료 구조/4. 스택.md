# 🧱 **Java 스택(Stack) 완벽 정리**

---

## 📚 개요

스택(Stack)은 데이터를 쌓아 올리는 구조로, 가장 나중에 들어온 데이터가 가장 먼저 나가는 LIFO(Last In, First Out) 원칙을 따릅니다.  
즉, 마지막에 넣은 데이터가 가장 먼저 꺼내지는 특징을 가지고 있습니다.  
스택은 함수 호출, 괄호 검사, Undo 기능 등 다양한 분야에서 활용됩니다.

---

## ⚙️ 스택의 주요 연산

- **push(E item)** : 스택의 가장 위에 데이터를 추가합니다.  
- **pop()** : 스택의 가장 위에 있는 데이터를 제거하고 반환합니다.  
- **peek()** : 스택의 가장 위에 있는 데이터를 제거하지 않고 반환합니다.  
- **isEmpty()** : 스택이 비어있는지 여부를 반환합니다.

---

## 💡 Java에서의 Stack 클래스 사용

Java에서는 `java.util.Stack` 클래스를 제공하여 손쉽게 스택을 사용할 수 있습니다.

```java
import java.util.Stack;

public class StackExample {
    public static void main(String[] args) {
        Stack<Integer> stack = new Stack<>();

        stack.push(10);
        stack.push(20);
        stack.push(30);

        System.out.println("Top element: " + stack.peek()); // 30
        System.out.println("Pop element: " + stack.pop());  // 30
        System.out.println("Is stack empty? " + stack.isEmpty()); // false
    }
}
```

---

## 🧩 Stack 구현 예시

배열 기반으로 간단한 스택을 직접 구현해보겠습니다.

```java
public class ArrayStack {
    private int[] stack;
    private int top;
    private int capacity;

    public ArrayStack(int size) {
        capacity = size;
        stack = new int[capacity];
        top = -1;
    }

    public void push(int value) {
        if (top == capacity - 1) {
            throw new RuntimeException("Stack Overflow");
        }
        stack[++top] = value;
    }

    public int pop() {
        if (isEmpty()) {
            throw new RuntimeException("Stack Underflow");
        }
        return stack[top--];
    }

    public int peek() {
        if (isEmpty()) {
            throw new RuntimeException("Stack is empty");
        }
        return stack[top];
    }

    public boolean isEmpty() {
        return top == -1;
    }
}
```

---

## ⚠️ 주의사항

- `EmptyStackException` : `java.util.Stack`에서 pop이나 peek을 할 때 스택이 비어있으면 발생하는 예외입니다.  
- **Thread-Safe 여부** : `java.util.Stack` 클래스는 메서드들이 동기화되어 있어 기본적으로 Thread-safe하지만, 성능 이슈가 있을 수 있습니다.  
- 멀티스레드 환경에서는 `Deque` 인터페이스를 구현한 `ArrayDeque` 또는 `ConcurrentLinkedDeque`를 사용하는 것이 권장됩니다.

---

## 🧮 스택의 활용 사례

- **괄호 검사** : 괄호가 올바르게 짝지어져 있는지 검사할 때 사용합니다.  
- **후위 표기법 계산** : 중위 표현식을 후위 표현식으로 변환하거나 후위 표현식을 계산할 때 활용됩니다.  
- **DFS(깊이 우선 탐색)** : 그래프 탐색 시 방문할 노드를 스택에 저장하여 탐색합니다.  
- **함수 호출 관리** : 호출 스택(Call Stack)으로 함수 호출과 반환을 관리합니다.

---

## 🧠 Stack vs Queue

| 특징            | Stack (스택)                  | Queue (큐)                    |
|-----------------|------------------------------|------------------------------|
| 데이터 구조     | LIFO (Last In First Out)     | FIFO (First In First Out)    |
| 주요 연산       | push, pop, peek             | offer, poll, peek            |
| 사용 예         | 함수 호출, 괄호 검사, Undo   | 작업 스케줄링, 버퍼 관리     |
| Java 클래스     | java.util.Stack              | java.util.Queue (LinkedList 등) |
| 데이터 접근 방식 | 가장 최근에 들어온 데이터 접근 | 가장 먼저 들어온 데이터 접근 |

---

## 📌 정리

스택은 LIFO 구조를 가진 기본 자료구조로, Java에서는 `Stack` 클래스를 통해 쉽게 사용할 수 있으며, 다양한 알고리즘과 시스템 내부 동작에 필수적인 역할을 합니다.
