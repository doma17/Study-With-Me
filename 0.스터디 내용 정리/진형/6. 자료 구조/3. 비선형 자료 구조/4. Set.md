# 🔢 **Java Set 완벽 정리**

---

## 📚 개요

Java의 **Set**은 **중복을 허용하지 않는** 자료구조로, 컬렉션 프레임워크(Collection Framework)의 한 부분입니다. Set은 저장된 요소들의 **순서가 보장되지 않거나 보장되는 경우도 있으며**, 중복된 값을 저장할 수 없다는 특징이 있습니다. 즉, 같은 값이 여러 번 저장될 수 없어서 데이터의 유일성을 보장할 때 유용합니다.

---

## 🧩 Set의 주요 특징

- **고유성(유일성)**: 중복된 요소를 저장하지 않습니다.
- **null 허용 여부**: 구현체에 따라 다르며, 대부분은 하나의 null 값만 허용합니다.
- **순서 보장 여부**:
  - `HashSet`: 순서 보장하지 않음.
  - `LinkedHashSet`: 삽입 순서 보장.
  - `TreeSet`: 정렬된 순서(자연 정렬 또는 Comparator에 의한 정렬) 보장.
- **성능 특성**:
  - `HashSet`: 빠른 검색과 삽입 (평균 O(1))
  - `TreeSet`: 정렬된 상태 유지, 탐색 O(log n)

---

## ⚙️ 주요 메서드

| 메서드            | 설명                                      |
|-------------------|-----------------------------------------|
| `add(E e)`        | 요소를 추가. 이미 존재하면 추가 실패 (false 반환). |
| `remove(Object o)` | 요소를 제거. 성공하면 true 반환.                |
| `contains(Object o)` | 해당 요소가 존재하는지 확인.                     |
| `size()`          | 저장된 요소의 개수 반환.                          |
| `clear()`         | 모든 요소 제거.                                  |
| `isEmpty()`       | 비어있는지 여부 확인.                             |
| `iterator()`      | 요소들을 순회할 Iterator 반환.                     |

---

## 💡 Set 인터페이스와 주요 구현체

| 구현체           | 순서 보장        | 중복 허용 | null 허용 | 정렬 여부           | 성능 특성             |
|------------------|-----------------|----------|----------|---------------------|-----------------------|
| `HashSet`        | 보장하지 않음    | 불허      | 하나 허용 | 정렬 안함           | 빠름 (평균 O(1))       |
| `LinkedHashSet`  | 삽입 순서 보장   | 불허      | 하나 허용 | 정렬 안함           | `HashSet`과 비슷하지만 약간 느림 |
| `TreeSet`        | 정렬된 순서 보장 | 불허      | 허용 안함 (null 넣으면 NPE) | 자연 순서 또는 Comparator 기준 | 탐색 O(log n)          |

---

## 🧮 HashSet 예제

```java
import java.util.HashSet;

public class HashSetExample {
    public static void main(String[] args) {
        HashSet<String> set = new HashSet<>();

        set.add("apple");
        set.add("banana");
        set.add("apple"); // 중복 추가 시도

        System.out.println("Set 크기: " + set.size()); // 2
        System.out.println("Set 내용: " + set);

        if(set.contains("banana")) {
            System.out.println("바나나가 포함되어 있습니다.");
        }

        set.remove("apple");
        System.out.println("제거 후 Set: " + set);
    }
}
```

---

## 🌳 TreeSet 예제

```java
import java.util.TreeSet;

public class TreeSetExample {
    public static void main(String[] args) {
        TreeSet<Integer> treeSet = new TreeSet<>();

        treeSet.add(30);
        treeSet.add(10);
        treeSet.add(20);

        System.out.println("TreeSet 내용 (자동 정렬): " + treeSet);

        // 첫번째 요소, 마지막 요소
        System.out.println("최소값: " + treeSet.first());
        System.out.println("최대값: " + treeSet.last());
    }
}
```

---

## 🧠 내부 동작 원리

- **HashSet**은 내부적으로 `HashMap`을 사용하여 요소를 저장합니다. 각 요소는 `hashCode()` 메서드를 통해 해시 버킷에 저장되며, 동일한 해시코드를 가진 객체들은 `equals()` 메서드로 중복 여부를 판단합니다.
- 따라서 `hashCode()` 와 `equals()` 메서드를 올바르게 오버라이드하는 것이 매우 중요합니다.
- **TreeSet**은 이진 탐색 트리(레드-블랙 트리) 구조를 사용하여 요소들을 정렬된 상태로 유지합니다. 요소는 자연 정렬 또는 생성 시 제공한 `Comparator`에 따라 비교됩니다.

---

## ⚠️ 주의사항

- **중복 판단 기준**은 `equals()` 메서드에 따릅니다. 동일한 객체라도 `equals()`가 false면 중복으로 인식하지 않습니다.
- `HashSet`은 **순서를 보장하지 않으므로** 저장 순서에 의존하면 안 됩니다.
- `LinkedHashSet`은 삽입 순서를 유지하지만, `TreeSet`은 정렬된 순서를 유지합니다.
- `TreeSet`은 `null` 삽입 시 `NullPointerException`이 발생하므로 주의해야 합니다.
- 성능은 `HashSet`이 일반적으로 가장 빠르며, `TreeSet`은 정렬 기능 때문에 상대적으로 느립니다.

---

## 🧾 Set 순회 방법

```java
import java.util.HashSet;
import java.util.Iterator;

public class SetIteration {
    public static void main(String[] args) {
        HashSet<String> set = new HashSet<>();
        set.add("Java");
        set.add("Python");
        set.add("C++");

        // 1. 향상된 for문
        System.out.println("향상된 for문:");
        for (String s : set) {
            System.out.println(s);
        }

        // 2. Iterator 사용
        System.out.println("\nIterator 사용:");
        Iterator<String> it = set.iterator();
        while (it.hasNext()) {
            System.out.println(it.next());
        }

        // 3. Stream API 사용
        System.out.println("\nStream API 사용:");
        set.stream().forEach(System.out::println);
    }
}
```

---

## 📌 정리

> **Java Set은 중복을 허용하지 않는 컬렉션으로, 목적에 맞는 구현체를 선택해 유일한 데이터 저장과 효율적인 탐색을 구현할 수 있습니다.**
