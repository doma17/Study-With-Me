# ğŸ”´âš« **Red-Black Tree (ë ˆë“œ-ë¸”ë™ íŠ¸ë¦¬) ìë£Œêµ¬ì¡° ì •ë¦¬**

# ğŸ“˜ **ê°œë…**

**Red-Black Tree(ë ˆë“œ-ë¸”ë™ íŠ¸ë¦¬)** ëŠ” **ì´ì§„ íƒìƒ‰ íŠ¸ë¦¬(Binary Search Tree, BST)** ì˜ í•œ ì¢…ë¥˜ë¡œ, ì‚½ì…ê³¼ ì‚­ì œê°€ ì¼ì–´ë‚˜ë„ **íŠ¸ë¦¬ì˜ ê· í˜•ì„ íš¨ìœ¨ì ìœ¼ë¡œ ìœ ì§€**í•˜ë„ë¡ ì„¤ê³„ëœ **ìê¸° ê· í˜• ì´ì§„ íƒìƒ‰ íŠ¸ë¦¬(Self-Balancing BST)** ì…ë‹ˆë‹¤.

> ì´ë¦„ì€ ê° ë…¸ë“œê°€ ë¹¨ê°„ìƒ‰(Red) ë˜ëŠ” ê²€ì •ìƒ‰(Black)ìœ¼ë¡œ í‘œì‹œë˜ëŠ” ë°ì„œ ìœ ë˜í–ˆìŠµë‹ˆë‹¤.

---

# ğŸ§© **íŠ¹ì§•**

Red-Black TreeëŠ” ê° ë…¸ë“œì— ìƒ‰ìƒ ì†ì„±ì´ ì¶”ê°€ë˜ì–´ ìˆìœ¼ë©°, ë‹¤ìŒ **5ê°€ì§€ ì†ì„±**ì„ ë§Œì¡±í•´ì•¼ í•©ë‹ˆë‹¤:

1. ê° ë…¸ë“œëŠ” **ë¹¨ê°•(Red)** ë˜ëŠ” **ê²€ì •(Black)** ìƒ‰ì„ ê°€ì§„ë‹¤.
2. ë£¨íŠ¸ ë…¸ë“œëŠ” í•­ìƒ **ê²€ì •(Black)** ì´ë‹¤.
3. ëª¨ë“  ë¦¬í”„(NIL, null)ëŠ” **ê²€ì •(Black)** ìœ¼ë¡œ ê°„ì£¼í•œë‹¤.
4. ë¹¨ê°• ë…¸ë“œì˜ ìì‹ì€ í•­ìƒ **ê²€ì •(Black)** ì´ì–´ì•¼ í•œë‹¤. (ì¦‰, ì—°ì†ëœ ë¹¨ê°• ë…¸ë“œëŠ” ì—†ë‹¤)
5. ì„ì˜ì˜ ë…¸ë“œì—ì„œ ë¦¬í”„ê¹Œì§€ì˜ **ëª¨ë“  ê²½ë¡œì—ëŠ” ë™ì¼í•œ ìˆ˜ì˜ ê²€ì • ë…¸ë“œ**ê°€ ì¡´ì¬í•´ì•¼ í•œë‹¤.

ì´ ê·œì¹™ ë•ë¶„ì— íŠ¸ë¦¬ì˜ ë†’ì´ê°€ ê±°ì˜ ì¼ì •í•˜ê²Œ ìœ ì§€ë˜ì–´, **íƒìƒ‰/ì‚½ì…/ì‚­ì œ ì—°ì‚°ì„ O(log N)** ì‹œê°„ì— ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

# âš™ï¸ **ì£¼ìš” ì—°ì‚° ë° ë³µì¡ë„**

| ì—°ì‚°              | ì„¤ëª…                                     | ì‹œê°„ ë³µì¡ë„   |
| --------------- | -------------------------------------- | -------- |
| **íƒìƒ‰ (Search)** | ì´ì§„ íƒìƒ‰ íŠ¸ë¦¬ì™€ ë™ì¼í•˜ê²Œ ìˆ˜í–‰                      | O(log N) |
| **ì‚½ì… (Insert)** | ìƒˆ ë…¸ë“œ ì¶”ê°€ í›„ ìƒ‰ìƒ ê·œì¹™ì„ ë§Œì¡±ì‹œí‚¤ê¸° ìœ„í•´ íšŒì „ ë° ìƒ‰ ë³€ê²½ ìˆ˜í–‰ | O(log N) |
| **ì‚­ì œ (Delete)** | ë…¸ë“œ ì‚­ì œ í›„ ê· í˜• ë° ìƒ‰ìƒ ê·œì¹™ ë³µì›                  | O(log N) |

---

# ğŸ” **ê· í˜• ìœ ì§€ (íšŒì „ ë° ìƒ‰ìƒ ë³€ê²½)**

ì‚½ì…ì´ë‚˜ ì‚­ì œ ì‹œ ê·œì¹™ì´ ê¹¨ì§€ë©´, **íšŒì „(Rotation)** ê³¼ **ìƒ‰ìƒ(Color Flip)** ìœ¼ë¡œ íŠ¸ë¦¬ë¥¼ ë³µêµ¬í•©ë‹ˆë‹¤.

## ì˜ˆì‹œ ìƒí™©

* **Case 1:** ë¶€ëª¨ê°€ ë¹¨ê°•ì´ê³ , ì‚¼ì´Œì´ ë¹¨ê°• â†’ ë¶€ëª¨ì™€ ì‚¼ì´Œì„ ê²€ì •ìœ¼ë¡œ, ì¡°ë¶€ëª¨ë¥¼ ë¹¨ê°•ìœ¼ë¡œ ë³€ê²½
* **Case 2:** ë¶€ëª¨ê°€ ë¹¨ê°•ì´ê³ , ì‚¼ì´Œì´ ê²€ì • â†’ LL, RR, LR, RL í˜•íƒœì— ë”°ë¼ íšŒì „ ìˆ˜í–‰

## íšŒì „ ì˜ˆì‹œ (LL Case)

```
    10(B)                10(B)
   /                        \
  5(R)        â†’            7(R)
   \                      / \
    7(R)                5(B) 8(B)
```

---

# ğŸ’» **ìë°” ì˜ˆì œ ì½”ë“œ (ì‚½ì… ì¤‘ì‹¬)**

```java
enum Color { RED, BLACK }

class Node {
    int data;
    Color color;
    Node left, right, parent;

    Node(int data) {
        this.data = data;
        this.color = Color.RED; // ìƒˆ ë…¸ë“œëŠ” í•­ìƒ ë¹¨ê°•ìœ¼ë¡œ ì‚½ì…
        left = right = parent = null;
    }
}

public class RedBlackTree {
    private Node root;

    // ì¢ŒíšŒì „
    private void rotateLeft(Node x) {
        Node y = x.right;
        x.right = y.left;
        if (y.left != null) y.left.parent = x;
        y.parent = x.parent;
        if (x.parent == null) root = y;
        else if (x == x.parent.left) x.parent.left = y;
        else x.parent.right = y;
        y.left = x;
        x.parent = y;
    }

    // ìš°íšŒì „
    private void rotateRight(Node y) {
        Node x = y.left;
        y.left = x.right;
        if (x.right != null) x.right.parent = y;
        x.parent = y.parent;
        if (y.parent == null) root = x;
        else if (y == y.parent.left) y.parent.left = x;
        else y.parent.right = x;
        x.right = y;
        y.parent = x;
    }

    // ì‚½ì…
    public void insert(int data) {
        Node newNode = new Node(data);
        root = bstInsert(root, newNode);
        fixViolation(newNode);
    }

    // ê¸°ë³¸ BST ì‚½ì…
    private Node bstInsert(Node root, Node node) {
        if (root == null) return node;
        if (node.data < root.data) {
            root.left = bstInsert(root.left, node);
            root.left.parent = root;
        } else if (node.data > root.data) {
            root.right = bstInsert(root.right, node);
            root.right.parent = root;
        }
        return root;
    }

    // ê·œì¹™ ìœ„ë°˜ ìˆ˜ì •
    private void fixViolation(Node node) {
        Node parent = null, grandParent = null;
        while (node != root && node.color == Color.RED && node.parent.color == Color.RED) {
            parent = node.parent;
            grandParent = parent.parent;

            if (parent == grandParent.left) {
                Node uncle = grandParent.right;
                if (uncle != null && uncle.color == Color.RED) { // Case 1
                    grandParent.color = Color.RED;
                    parent.color = Color.BLACK;
                    uncle.color = Color.BLACK;
                    node = grandParent;
                } else { // Case 2
                    if (node == parent.right) {
                        rotateLeft(parent);
                        node = parent;
                        parent = node.parent;
                    }
                    rotateRight(grandParent);
                    Color temp = parent.color;
                    parent.color = grandParent.color;
                    grandParent.color = temp;
                    node = parent;
                }
            } else {
                Node uncle = grandParent.left;
                if (uncle != null && uncle.color == Color.RED) {
                    grandParent.color = Color.RED;
                    parent.color = Color.BLACK;
                    uncle.color = Color.BLACK;
                    node = grandParent;
                } else {
                    if (node == parent.left) {
                        rotateRight(parent);
                        node = parent;
                        parent = node.parent;
                    }
                    rotateLeft(grandParent);
                    Color temp = parent.color;
                    parent.color = grandParent.color;
                    grandParent.color = temp;
                    node = parent;
                }
            }
        }
        root.color = Color.BLACK;
    }

    // ì¤‘ìœ„ ìˆœíšŒ ì¶œë ¥
    public void inorder(Node root) {
        if (root != null) {
            inorder(root.left);
            System.out.print(root.data + "(" + root.color + ") ");
            inorder(root.right);
        }
    }

    public void printTree() {
        inorder(root);
        System.out.println();
    }

    public static void main(String[] args) {
        RedBlackTree tree = new RedBlackTree();
        int[] values = {10, 20, 30, 15, 25, 5, 1};
        for (int val : values) tree.insert(val);
        tree.printTree();
    }
}
```

---

# ğŸ§  **ì¥ë‹¨ì **

| ì¥ì                                     | ë‹¨ì                    |
| ------------------------------------- | -------------------- |
| í•­ìƒ ê±°ì˜ ê· í˜•ì„ ìœ ì§€í•˜ì—¬ íƒìƒ‰, ì‚½ì…, ì‚­ì œ ëª¨ë‘ O(log N) | êµ¬í˜„ì´ ë³µì¡í•˜ê³  ì½”ë“œê°€ ê¸¸ì–´ì§     |
| AVL íŠ¸ë¦¬ë³´ë‹¤ íšŒì „ì´ ì ì–´ ì‚½ì…/ì‚­ì œê°€ ë¹ ë¦„             | íƒìƒ‰ì€ AVLë³´ë‹¤ ì•½ê°„ ëŠë¦´ ìˆ˜ ìˆìŒ |

---

# ğŸ’¡ **ìš”ì•½**

> **Red-Black Tree** ëŠ” íŠ¸ë¦¬ì˜ ê· í˜•ì„ ìƒ‰ìƒ ê·œì¹™ìœ¼ë¡œ íš¨ìœ¨ì ìœ¼ë¡œ ìœ ì§€í•˜ì—¬,
> **ì‚½ì…/ì‚­ì œ ì‹œ ì˜¤ë²„í—¤ë“œê°€ ì ê³  ì•ˆì •ì ì¸ ì„±ëŠ¥ì„ ì œê³µí•˜ëŠ” BST ë³€í˜•**ì…ë‹ˆë‹¤.
