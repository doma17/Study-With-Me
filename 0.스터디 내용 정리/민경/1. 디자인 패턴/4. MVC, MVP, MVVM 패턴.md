# ë°°ê²½

> MVC, MVP, MVVM íŒ¨í„´ì€ ëª¨ë‘ UI ì½”ë“œì™€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë¶„ë¦¬í•˜ê¸° ìœ„í•œ ì•„í‚¤í…ì²˜ íŒ¨í„´

ì´ˆê¸° í”„ë¡œê·¸ë¨ì€ ë¡œì§ê³¼ UIê°€ í•œ íŒŒì¼ì— ì„ì—¬ ìˆì—ˆê¸° ë•Œë¬¸ì— UI ë³µì¡ì„± ì¦ê°€, ì½”ë“œ ê´€ë¦¬ì— ì–´ë ¤ì›€
-> **UIë¥¼ ì¡°ê¸ˆë§Œ ë°”ê¿”ë„ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê¹Œì§€ ìˆ˜ì •í•´ì•¼ í•˜ëŠ” ìœ ì§€ë³´ìˆ˜ ë¬¸ì œ ë°œìƒ, í…ŒìŠ¤íŠ¸ì— ì–´ë ¤ì›€**

ë”°ë¼ì„œ UIì™€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë¶„ë¦¬ê°€ í•„ìš”!
**UI(`View`), ë°ì´í„° ì²˜ë¦¬(`Model`), ë¡œì§ ì²˜ë¦¬(`Controller, Presenter, ViewModel`) ì„ ë¶„ë¦¬**í•˜ì—¬ ê° ë¶€ë¶„ì„ ë…ë¦½ì ìœ¼ë¡œ ìˆ˜ì •í•˜ê³ , í…ŒìŠ¤íŠ¸ ì§„í–‰

#### ê²°êµ­ ë” ê¹”ë”í•˜ê³ , ë” í…ŒìŠ¤íŠ¸í•˜ê¸° ì‰¬ìš°ë©°, ë” ìœ ì§€ë³´ìˆ˜í•˜ê¸° ì¢‹ì€ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ ë“±ì¥

# MVC íŒ¨í„´

> `Model-View-Controller`ì˜ ì•½ìë¡œ UI, ë°ì´í„°, ì œì–´ ë¡œì§ì„ ê°ê° ë¶„ë¦¬í•˜ì—¬, ìœ ì§€ë³´ìˆ˜ì„±ê³¼ í™•ì¥ì„±ì„ ë†’ì´ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ë””ìì¸ íŒ¨í„´

* Model : ë°ì´í„°, ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë‹´ë‹¹
* View : ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì§€ëŠ” UI ë‹´ë‹¹
* Controller : ì‚¬ìš©ì ì…ë ¥ ì²˜ë¦¬, Modelê³¼ Viewë¥¼ ì—°ê²°

### ë™ì‘ íë¦„

1. `Controller`ë¡œ ì‚¬ìš©ìì˜ `Action`ì´ ë“¤ì–´ì˜´
2. `Controller`ëŠ” ì‚¬ìš©ìì˜ `Action`ì„ í™•ì¸í•˜ê³ , `Model` ì—…ë°ì´íŠ¸
3. `Controller`ëŠ” `Model`ì„ ë‚˜íƒ€ë‚´ ì¤„ `View`ë¥¼ ì„ íƒ
4. `View`ëŠ” `Model`ì„ ì´ìš©í•˜ì—¬ í™”ë©´ì„ ë‚˜íƒ€ëƒ„

![](https://velog.velcdn.com/images/khhkmg0205/post/51205eb2-c932-4838-92ca-c29c6f9861fc/image.png)


`Controller`ëŠ” ì—¬ëŸ¬ ê°œì˜ `View`ë¥¼ ì„ íƒí•  ìˆ˜ ìˆëŠ” 1:n êµ¬ì¡°
`Controller`ëŠ” `View`ë¥¼ ì„ íƒí•  ë¿ ì§ì ‘ ì—…ë°ì´íŠ¸ í•˜ì§€ëŠ” ì•ŠìŒ (`View`ëŠ” `Controller`ë¥¼ ì•Œì§€ ëª»í•¨)

## ì˜ˆì œ

```java
//Controller
@Controller
public class BookController {

    @GetMapping("/book")
    public String getBook(Model model){
        Book book = new Book("Clean Code", "Robert Martin");
        model.addAttribute("book", book);
        return "bookView";
    }
}

//Model
public class Book {
    private String title;
    private String author;

    public Book(String title, String author) {
        this.title = title;
        this.author = author;
    }

    public String getTitle() {
        return title;
    }

    public String getAuthor() {
        return author;
    }
}
```
```html
//View
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Book Info</title>
</head>
<body>
    <h1>ğŸ“š Book Information</h1>
    <p>Title: <span th:text="${book.title}"></span></p>
    <p>Author: <span th:text="${book.author}"></span></p>
</body>
</html>
```
![](https://velog.velcdn.com/images/khhkmg0205/post/56b143cf-f3e4-4916-8afa-98dcd25c5779/image.png)

## íŠ¹ì§•

1. ê´€ì‹¬ì‚¬ë¥¼ ë¶„ë¦¬í•˜ì—¬ ì½”ë“œì˜ ì—­í• ì´ ëª…í™•

2. ìœ ì§€ë³´ìˆ˜ì™€ í…ŒìŠ¤íŠ¸ì— ìš©ì´
   UI, ë°ì´í„°, ì œì–´ ë¡œì§ì„ ë…ë¦½ì ìœ¼ë¡œ ìˆ˜ì • ê°€ëŠ¥í•˜ë©° ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§(`Model`) í…ŒìŠ¤íŠ¸ê°€ ì‰¬ì›€

3. ìœ ì—°í•œ UI êµì²´ ê°€ëŠ¥
   `Model`ì€ ê·¸ëŒ€ë¡œ, `View`ë§Œ ë³€ê²½ ê°€ëŠ¥í•œ ì™„ë²½í•˜ê²Œ ë¶„ë¦¬ëœ êµ¬ì¡°

4. í•˜ì§€ë§Œ `Model`ê³¼ `View`ì˜ ì˜ì¡´ì„±ì´ êµ‰ì¥íˆ í¬ë‹¤ëŠ” ë‹¨ì 


## ê²°ë¡ 

ì—­í• ë³„ë¡œ ì½”ë“œë¥¼ ë¶„ë¦¬í•˜ì—¬ ìœ ì§€ë³´ìˆ˜ë¥¼ ì‰½ê²Œ ë§Œë“¤ê³ , UIì™€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ìœ ì—°í•˜ê²Œ ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” íŒ¨í„´

í•˜ì§€ë§Œ `Model`ê³¼ `View`ì˜ ì˜ì¡´ì„±ì´ í¬ê¸° ë•Œë¬¸ì—, `Controller`ê°€ ë¶ˆí•„ìš”í•˜ê²Œ ì»¤ì§ˆ ìˆ˜ ìˆìŒ -> ì´ë¥¼ ë³´ì•ˆí•˜ê¸° ìœ„í•´ MVP íŒ¨í„´ ë“±ì¥

---

# MVP íŒ¨í„´

> `Model-View-Presenter`ì˜ ì•½ìë¡œ Modelê³¼ ViewëŠ” MVC íŒ¨í„´ê³¼ ë™ì¼í•˜ì§€ë§Œ Controller ëŒ€ì‹  Presenterê°€ ì¡´ì¬

* Model : ë°ì´í„°, ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë‹´ë‹¹
* View : UI í‘œì‹œ, ì‚¬ìš©ì ì…ë ¥ ì´ë²¤íŠ¸ë§Œ ì „ë‹¬ (ë°ì´í„° ì²˜ë¦¬ X)
* Presenter : Viewì™€ Model ì‚¬ì´ì˜ ì¤‘ì¬ì, UI ë¡œì§ ë° ë°ì´í„° ì²˜ë¦¬ ë‹´ë‹¹

### ë™ì‘ íë¦„

1. ì‚¬ìš©ìê°€ `View`ì—ì„œ ì´ë²¤íŠ¸ ë°œìƒ
2. `View`ê°€ ì´ë²¤íŠ¸ë¥¼ `Presenter`ì—ê²Œ ì „ë‹¬
3. `Presenter`ê°€ `Model`ì„ í˜¸ì¶œí•˜ì—¬ ë°ì´í„° ì²˜ë¦¬
4. `Presenter`ê°€ `View`ë¥¼ ê°±ì‹  (`View`ì— ì§ì ‘ ëª…ë ¹)

![](https://velog.velcdn.com/images/khhkmg0205/post/1f45df3b-ce5a-45d8-bc94-1d9d106ca522/image.png)

`Presenter`ëŠ” `View`ì™€ `Model`ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ì§€ê³  ìˆì–´ ë‘˜ì„ ì—°ê²°í•˜ëŠ” ì ‘ì°©ì œ ì—­í• 
`View`ì™€ `Presenter`ëŠ” 1:1 ê´€ê³„ë¡œ ì™„ì „íˆ ì˜ì¡´í•˜ë©°, `View`ëŠ” ë‹¨ìˆœ UI ë Œë”ë§ë§Œ ë‹´ë‹¹

## ì˜ˆì œ

ê³„ì‚°ì„ ë‹´ë‹¹í•˜ëŠ” `Model`ê³¼ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ëŠ” `View`

```java
public class CalculatorModel {
    public int add(int a, int b){
        return a+b;
    }
}

public interface CalculatorView {
    void showResult(int result);
}

public class CalculatorConsoleView implements CalculatorView{
    @Override
    public void showResult(int result) {
        System.out.println("Result : " + result);
    }
}
```
`View`ê³¼ `Model`ì„ ì´ì–´ì£¼ëŠ” `Presenter`

```java
public class CalculatorPresenter {
    private final CalculatorModel model;
    private final CalculatorView view;

    public CalculatorPresenter(CalculatorModel model, CalculatorView view) {
        this.model = model;
        this.view = view;
    }

    public void onAddButtonClicked(int a, int b){
        int result = model.add(a,b);
        view.showResult(result);
    }
}

public class CalculatorMain {
    public static void main(String[] args) {
        CalculatorModel model = new CalculatorModel();
        CalculatorView view = new CalculatorConsoleView();
        CalculatorPresenter presenter = new CalculatorPresenter(model, view);

        presenter.onAddButtonClicked(10,20);
    }
}
/*
Result : 30
*/
```

## íŠ¹ì§•

1. `View`, `Model`ì˜ ì™„ë²½ ë¶„ë¦¬
   `View`ëŠ” `Presenter`ì˜ ëª…ë ¹ë§Œ ìˆ˜í–‰ -> UI ì½”ë“œ ë‹¨ìˆœí™”
   `Presenter`ëŠ” `View`ë¥¼ ì¸í„°í˜ì´ìŠ¤ë¡œ ì°¸ì¡° -> í”Œë«í¼ ë…ë¦½ì  ì„¤ê³„ ê°€ëŠ¥

2. í•˜ì§€ë§Œ êµ¬í˜„ ì½”ë“œ ì¦ê°€
   `View Interface`, `Presenter` ë“± ì½”ë“œê°€ ë§ì•„ì§€ë©°, ë³µì¡í•œ í™”ë©´ êµ¬ì¡°ì—ëŠ” `Presenter`ê°€ ë¹„ëŒ€í•´ì§ˆ ìˆ˜ ìˆìŒ


## ê²°ë¡ 

`View`ì™€ `Model`ì„ ì² ì €íˆ ë¶„ë¦¬í•˜ì—¬ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•œ êµ¬ì¡°ë¥¼ ë§Œë“œëŠ” íŒ¨í„´

MVCë³´ë‹¤ `View`ì˜ ì—­í• ì´ í›¨ì”¬ ë” ì¶•ì†Œë˜ê³ , `View`ì™€ `Model`ì˜ ì˜ì¡´ì„±ì€ í•´ê²°ë˜ì—ˆì§€ë§Œ, `View`ì™€ `Presenter`ì˜ ì˜ì¡´ì„±ì´ ê°•í•´ì§€ëŠ” ë¬¸ì œ ë°œìƒ
-> ì´ë¥¼ ë³´ì•ˆí•˜ê¸° ìœ„í•´ MVVM íŒ¨í„´ì˜ ë“±ì¥

----

# MVVM íŒ¨í„´

> `Model-View-ViewModel`ì˜ ì•½ìë¡œ, Viewì™€ Modelì„ ë°ì´í„° ë°”ì¸ë”©ìœ¼ë¡œ ì™„ì „íˆ ë¶„ë¦¬í•˜ëŠ” êµ¬ì¡°ë¡œ, ì£¼ë¡œ ì–‘ë°©í–¥ ë°ì´í„° ë°”ì¸ë”©ì´ ì§€ì›ë˜ëŠ” í”„ë ˆì„ì›Œí¬ì—ì„œ ì‚¬ìš©ë˜ëŠ” ë””ìì¸ íŒ¨í„´

* Model : ë°ì´í„°, ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë‹´ë‹¹
* View : UI í™”ë©´(ë²„íŠ¼, í…ìŠ¤íŠ¸ë°•ìŠ¤ ë“±)
* ViewModel : Viewë¥¼ í‘œí˜„í•˜ê¸° ìœ„í•´ ë§Œë“¤ì–´ì§„ Viewë¥¼ ìœ„í•œ Model
  Viewì™€ Model ì‚¬ì´ë¥¼ ì¤‘ì¬, UI ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” ê°ì²´

### ë™ì‘ íë¦„

1. ì‚¬ìš©ìê°€ `View`ì— ìš”ì²­
2. ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ `Command` íŒ¨í„´ìœ¼ë¡œ `ViewModel`ì— ëª…ë ¹ì„ í•¨
3. `ViewModel`ì€ í•„ìš”í•œ ë°ì´í„°ë¥¼ `Model`ì— ìš”ì²­ ë° ì‘ë‹µ
4. `ViewModel`ì€ ì‘ë‹µ ë°›ì€ ë°ì´í„°ë¥¼ ê°€ê³µí•˜ì—¬ ì €ì¥
5. `View`ëŠ” `ViewModel`ê³¼ì˜ `Data Binding`ìœ¼ë¡œ ì¸í•´ ìë™ ê°±ì‹ 

![](https://velog.velcdn.com/images/khhkmg0205/post/884737a3-def8-497a-a6c5-0eacf16d6625/image.png)

`View`ì™€ `Model` ì‚¬ì´ì˜ ì˜ì¡´ì„±ì´ ì—†ìœ¼ë©°, `Command` íŒ¨í„´ê³¼ `Data Binding`ì„ ì‚¬ìš©í•˜ì—¬ `View`ì™€ `ViewModel`ì˜ ì˜ì¡´ì„±ë„ ì œê±° (`View`ëŠ” `ViewModel`ì˜ ê°’ì„ ê°ì‹œë§Œ í•˜ê³ , ì§ì ‘ ì œì–´í•˜ì§€ëŠ” ì•ŠëŠ” ì§ì ‘ ë™ê¸°í™”ëœ êµ¬ì¡°)

`Data Binding : ë°ì´í„°ì™€ í™”ë©´ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ë™ê¸°í™”í•˜ëŠ” ê¸°ìˆ `

## ì˜ˆì œ

`ViewModel`ì´ `Model`ì„ ì§ì ‘ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ì£¼ì…í•˜ê±°ë‚˜ ê°€ì ¸ì˜´

```kotlin
// ğŸ’¡ Model: ë°ì´í„° ê°ì²´ (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë‹´ì„ ìˆ˜ë„ ìˆìŒ)
data class User(val name: String, val age: Int)
```

`ViewModel`ì€ UIë¥¼ ìœ„í•œ ìƒíƒœ ê´€ë¦¬ì
`LiveData`ë¥¼ ì‚¬ìš©í•´ ë°ì´í„°ê°€ ë°”ë€Œë©´ `View`ì— ìë™ìœ¼ë¡œ ë°˜ì˜ë˜ë„ë¡ êµ¬ì„±
* `loadUser()` í˜¸ì¶œ ì‹œ -> `ViewModel`ì˜ ë°ì´í„° ê°±ì‹  -> `View` ìë™ ì—…ë°ì´íŠ¸


```kotlin
class UserViewModel : ViewModel() {

    // ğŸ’¡ Viewì— ì‹¤ì‹œê°„ìœ¼ë¡œ ë°˜ì˜ë  ë°ì´í„°ë¥¼ LiveDataë¡œ ì„ ì–¸
    val userName = MutableLiveData<String>()
    val userAge = MutableLiveData<Int>()

    // ğŸ’¡ Modelì˜ ë°ì´í„°ë¥¼ ViewModelì— ë¡œë“œí•˜ëŠ” ë©”ì„œë“œ
    fun loadUser() {
        val user = User("ì±„ì˜ì€", 25)
        userName.value = user.name  // Viewì— ì‹¤ì‹œê°„ìœ¼ë¡œ ë°˜ì˜ë¨
        userAge.value = user.age    // Viewì— ì‹¤ì‹œê°„ìœ¼ë¡œ ë°˜ì˜ë¨
    }
}
```
`View`ëŠ” `ViewModel`ì„ ë°”ì¸ë”©í•˜ì—¬ ë°ì´í„° ë³€ê²½ì„ ê°ì‹œ
* `viewModel.loadUser()`ê°€ í˜¸ì¶œë˜ë©´ â†’ ë°ì´í„°ê°€ ë°”ë€Œê³  â†’ `View`ê°€ ì¦‰ì‹œ ê°±ì‹ ë¨.

```kotlin
class MainActivity : AppCompatActivity() {

    private lateinit var viewModel: UserViewModel

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        val binding = ActivityMainBinding.inflate(layoutInflater)
        setContentView(binding.root)

        // ğŸ’¡ ViewModel ìƒì„± ë° ë°”ì¸ë”©
        viewModel = ViewModelProvider(this).get(UserViewModel::class.java)

        // ğŸ’¡ ViewModelì„ Viewì— ì—°ê²° â†’ ì´ê±¸ í†µí•´ ë°ì´í„° ìë™ ë™ê¸°í™”
        binding.viewModel = viewModel
        binding.lifecycleOwner = this // LiveDataë¥¼ ìœ„í•œ í•„ìˆ˜ ì„¤ì •

        // ğŸ’¡ ì‚¬ìš©ì í™”ë©´ ì§„ì… ì‹œ ë°ì´í„° ë¡œë“œ ìš”ì²­
        viewModel.loadUser()
    }
}

```

`XML`ì—ì„œ `ViewModel`ì˜ ë°ì´í„°ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ êµ¬ë…í•˜ê³  ìˆìŒ.
* `ViewModel`ì˜ userNameì´ ë³€ê²½ë˜ë©´ â†’ `TextView`ì˜ í…ìŠ¤íŠ¸ê°€ ì¦‰ì‹œ ìë™ ê°±ì‹ ë¨.

```xml
<TextView
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="@{viewModel.userName}" />  <!-- ğŸ’¡ LiveData ë°”ì¸ë”© -->

```

## íŠ¹ì§•

1. `View`ì™€ `Model`ì´ ì² ì €íˆ ë¶„ë¦¬ë˜ë©° `ViewModel`ì´ UI ìƒíƒœë¥¼ ê´€ë¦¬í•˜ì—¬ Viewê°€ í›¨ì”¬ ê°„ê²°í•´ì§

2. ì–‘ë°©í–¥ ë°ì´í„° ë°”ì¸ë”©ì„ í†µí•´ ìë™ UI ì—…ë°ì´íŠ¸ ê°€ëŠ¥

3. ëª¨ë“  ëª¨ë“ˆì´ ë…ë¦½ì ì¸ ìƒíƒœë¡œ í…ŒìŠ¤íŠ¸ ìš©ì´

4. í•˜ì§€ë§Œ `ViewModel`ì˜ ì„¤ê³„ê°€ ì‰½ì§€ ì•Šìœ¼ë©° ë¹„ëŒ€í•´ì§ˆ ìœ„í—˜ì´ ìˆìŒ

## ê²°ë¡ 

ê²°êµ­ `ViewModel`ì„ UIì²˜ëŸ¼ ì‚¬ìš©í•˜ê³ , ë°ì´í„° ë°”ì¸ë”©ì„ í†µí•´ `View`ì™€ `ViewModel`ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ë™ê¸°í™”í•˜ëŠ” íŒ¨í„´.

`View`ëŠ” ë‹¨ìˆœíˆ `ViewModel`ì„ ê´€ì°°ë§Œ í•˜ëŠ” ì—­í• 

---
# ìµœì¢…

#### MVC
Controllerê°€ ë‹¤ì–‘í•œ Viewë¥¼ ì œì–´
í•˜ì§€ë§Œ Viewì— ë°˜í™˜ë˜ëŠ” Modelì´ ì •í•´ì ¸ìˆê¸° ë•Œë¬¸ì— ìƒë‹¹íˆ ì˜ì¡´ì ì„

ë”°ë¼ì„œ Viewì™€ Modelì˜ ì˜ì¡´ì„±ì„ ë‚®ì¶”ê¸° ìœ„í•´ ~

#### MVP

Presenterê°€ Viewì™€ Model ì‚¬ì´ì—ì„œ Viewë¥¼ ì§ì ‘ ì œì–´.
í•˜ì§€ë§Œ Viewì™€ Presenter ì‚¬ì´ì˜ ì˜ì¡´ì„±ì´ ì»¤ì§€ëŠ” ë¬¸ì œ ë°œìƒ

ë”°ë¼ì„œ Viewì™€ Presenterì˜ ì˜ì¡´ì„±ì„ ë‚®ì¶”ê¸° ìœ„í•´ ~

#### MVVM

ViewModelì„ í†µí•´ Viewì™€ ë°ì´í„° ì‹¤ì‹œê°„ ë™ê¸°í™”
View, Model, ViewModel ëª¨ë‘ ì˜ì¡´ì„±ì´ ë‚®ê³ , ë…ë¦½ì ì¸ ëª¨ë“ˆë¡œ êµ¬ì„± ê°€ëŠ¥

í•˜ì§€ë§Œ ê·¸ë§Œí¼ ì ì  ì½”ë“œë¥¼ êµ¬í˜„í•˜ëŠ” ë³µì¡ë„ê°€ ë†’ì•„ì§„ë‹¤ëŠ” ë‹¨ì  ì¡´ì¬

### ê²°ë¡ 
|MVC|MVP|MVVM|
|---|----|----|
|ì„œë²„ UI|ìˆ˜ë™ ë°”ì¸ë”© UI|ìë™ ë°”ì¸ë”© UI|

**ì‚¬ì‹¤ìƒ ì–´ëŠ íŒ¨í„´ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì— ì •ë‹µì€ ì—†ìœ¼ë©°, í˜„ì¬ í”„ë¡œì íŠ¸ì˜ í¬ê¸°ì™€ ìƒí™©ì— ì•Œë§ê²Œ ë¹„êµí•˜ê³  ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤!**